<h2 class="btn">Log in</h2>
<form method="POST" class="logIn hidden toggleable" action="/users">
  <div class="form-row">
    <div>
      <input type="text" name="logemail" placeholder="Email" />
      <input type="password" name="logpassword" placeholder="Password" />
    </div>
  </div>
  <div class="form-row">
    <button class="btn btn-primary" type="submit">Login</button>
  </div>
</form>
<form method="get" id="logout" action="/users/logout" style="margin-bottom: 5px">
  <div class="form-row">
    <button class="btn btn-danger" type="submit">Logout</button>
  </div>
</form>
<h2 class="btn">Create new user</h2>
<form action="/users" class="createUser hidden toggleable" method="POST">
  <div class="form-row new-author">
    <div>
      <label for="username">User Name</label>
      <input type="text" name="username" />
    </div>
    <div>
      <label>Email adress</label>
      <input type="text" name="email" />
    </div>
  </div>
  <div class="form-row">
    <div>
      <label>Password</label>
      <input type="text" name="password" />
    </div>
    <div>
      <label>Confirm Password</label>
      <input type="text" name="passwordConf" />
    </div>
  </div>
  <div class="form-row">
    <a class="btn btn-danger" href="/users">Cancel</a>
    <button class="btn btn-primary" type="submit">Create</button>
  </div>
</form>

<h2 class="btn">Search for users</h2>
<form action="/users" class="searchUsers toggleable hidden" method="GET">
  <div class="form-row new-author">
    <label>Display Name</label>
    <input type="text" name="username" value="<%= searchOptions.username %>" />
  </div>
  <button class="btn btn-primary" type="submit">Search</button>
</form>
<div class="search-result-container toggleable hidden">
  <% users.forEach(user => { %>
  <div class="card">
    <p><%= user.username %></p>

    <div class="btn-row">
      <a class="btn btn-primary" href="/users/<%=user._id%>">View</a>
      <!--<a class="btn btn-primary" href="/users/<%=//user._id%>/edit">Edit NOT WORKING</a>-->
      <%-// include('../partials/deleteForm', { url: `/authors/${author.id}` }) %>
    </div>
  </div>
  <% }) %>
</div>
<script>
  let forms = document.querySelectorAll(".toggleable");
  console.log(forms);
  //   forms[4] = document.querySelector(".search-result-container");
  let headings = document.querySelectorAll("h2");
  headings[0].addEventListener("click", () => {
    forms[0].classList.toggle("hidden");
  });
  headings[1].addEventListener("click", () => {
    forms[1].classList.toggle("hidden");
  });
  headings[2].addEventListener("click", () => {
    forms[2].classList.toggle("hidden");
    forms[3].classList.toggle("hidden");
  });
</script>
